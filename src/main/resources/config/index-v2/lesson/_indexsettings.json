{
   "settings":{
      "index":{
         "analysis":{
            "analyzer":{
               "keyword_lowercase":{
                  "type":"custom",
                  "tokenizer":"keyword",
                  "filter":[
                     "lowercase",
                     "trim"
                  ]
               },
               "gooru_kstem":{
                  "type":"custom",
                  "tokenizer":"standard",
                  "filter":[
                     "standard",
                     "lowercase",
                     "stop",
                     "kstem"
                  ]
               }
            }
         }
      }
   },
   "mappings":{
      "lesson":{
         "properties":{
            "all":{
               "type":"text"
            },
            "id":{
               "type":"keyword"
            },
            "title":{
               "type":"text",
               "analyzer":"standard",
               "fields":{
                  "titleSnowball":{
                     "type":"text",
                     "analyzer":"snowball"
                  },
                  "titleKStem":{
                     "type":"text",
                     "analyzer":"gooru_kstem"
                  }
               },
               "copy_to":[
                  "all"
               ]
            },
            "createdAt":{
               "type":"date",
               "format":"dateOptionalTime"
            },
            "updatedAt":{
               "type":"date",
               "format":"dateOptionalTime"
            },
            "indexUpdatedTime":{
               "type":"date",
               "format":"dateOptionalTime"
            },
            "owner":{
               "properties":{
                  "emailId":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "firstName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "fullName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "userId":{
                     "type":"keyword"
                  },
                  "lastName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "profileVisibility":{
                     "type":"boolean"
                  },
                  "usernameDisplay":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "fields":{
                        "usernameDisplaySnowball":{
                           "type":"text",
                           "analyzer":"snowball"
                        }
                     }
                  },
                  "profileImage":{
                     "type":"keyword"
                  },
                  "tenant":{
                     "properties":{
                        "tenantRootId":{
                           "type":"keyword"
                        },
                        "tenantId":{
                           "type":"keyword"
                        }
                     }
                  }
               }
            },
            "creator":{
               "properties":{
                  "emailId":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "firstName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "fullName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "userId":{
                     "type":"keyword"
                  },
                  "lastName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "profileVisibility":{
                     "type":"boolean"
                  },
                  "usernameDisplay":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "fields":{
                        "usernameDisplaySnowball":{
                           "type":"text",
                           "analyzer":"snowball"
                        }
                     }
                  },
                  "profileImage":{
                     "type":"keyword"
                  },
                  "tenant":{
                     "properties":{
                        "tenantRootId":{
                           "type":"keyword"
                        },
                        "tenantId":{
                           "type":"keyword"
                        }
                     }
                  }
               }
            },
            "originalCreator":{
               "properties":{
                  "emailId":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "firstName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "fullName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "userId":{
                     "type":"keyword"
                  },
                  "lastName":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  },
                  "profileVisibility":{
                     "type":"boolean"
                  },
                  "usernameDisplay":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "fields":{
                        "usernameDisplaySnowball":{
                           "type":"text",
                           "analyzer":"snowball"
                        }
                     }
                  },
                  "profileImage":{
                     "type":"keyword"
                  },
                  "tenant":{
                     "properties":{
                        "tenantRootId":{
                           "type":"keyword"
                        },
                        "tenantId":{
                           "type":"keyword"
                        }
                     }
                  }
               }
            },
            "statistics":{
               "properties":{
                  "containingCollectionsCount":{
                     "type":"long"
                  },
                  "collectionCount":{
                     "type":"integer"
                  },
                  "assessmentCount":{
                     "type":"integer"
                  },
                  "externalAssessmentCount":{
                     "type":"integer"
                  },
                  "viewsCount":{
                     "type":"long"
                  },
                  "isFeatured":{
                     "type":"boolean"
                  },
                  "preComputedWeight":{
                     "type":"double"
                  },
                  "efficacy":{
                     "type":"double"
                  },
                  "engagement":{
                     "type":"double"
                  },
                  "relevance":{
                     "type":"double"
                  }
               }
            },
            "sequenceId":{
               "type":"integer"
            },
            "resourceInfo":{
               "properties":{
                  "text":{
                     "type":"text",
                     "analyzer":"snowball",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "watsonTags":{
                     "properties":{
                        "taxonomies":{
                           "type":"keyword"
                        },
                        "concepts":{
                           "type":"keyword"
                        },
                        "entities":{
                           "type":"keyword"
                        },
                        "keywords":{
                           "type":"text",
                           "analyzer":"standard",
                           "fields":{
                              "keywordsSnowball":{
                                 "type":"text",
                                 "analyzer":"snowball"
                              }
                           }
                        }
                     }
                  }
               }
            },
            "taxonomy":{
               "properties":{
                  "course":{
                     "type":"nested",
                     "include_in_parent":true,
                     "properties":{
                        "codeId":{
                           "type":"text",
                           "analyzer":"keyword_lowercase"
                        },
                        "label":{
                           "type":"text",
                           "analyzer":"keyword_lowercase",
                           "fields":{
                              "labelSnowball":{
                                 "type":"text",
                                 "analyzer":"snowball"
                              }
                           }
                        }
                     }
                  },
                  "subject":{
                     "type":"nested",
                     "include_in_parent":true,
                     "properties":{
                        "codeId":{
                           "type":"text",
                           "analyzer":"keyword_lowercase"
                        },
                        "label":{
                           "type":"text",
                           "analyzer":"keyword_lowercase",
                           "fields":{
                              "labelSnowball":{
                                 "type":"text",
                                 "analyzer":"snowball"
                              }
                           }
                        }
                     }
                  },
                  "frameworkCode":{
                     "type":"keyword"
                  },
                  "learningTargets":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "hasStandard":{
                     "type":"integer"
                  },
                  "standards":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "standardsDisplay":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "ltDisplay":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "leafInternalCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "leafDisplayCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "allEquivalentInternalCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "allEquivalentDisplayCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "allEquivalentFrameworkCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "gutCodes":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "customSpellCheckerSuggest"
                     ]
                  },
                  "taxonomySet":{
                     "properties":{
                        "subject":{
                           "type":"keyword"
                        },
                        "course":{
                           "type":"keyword"
                        },
                        "curriculum":{
                           "properties":{
                              "curriculumCode":{
                                 "type":"keyword"
                              },
                              "curriculumDesc":{
                                 "type":"keyword"
                              },
                              "curriculumName":{
                                 "type":"keyword"
                              },
                              "curriculumInfo":{
                                 "properties":{
                                    "id":{
                                       "type":"keyword"
                                    },
                                    "code":{
                                       "type":"keyword"
                                    },
                                    "title":{
                                       "type":"keyword"
                                    },
                                    "parentTitle":{
                                       "type":"keyword"
                                    },
                                    "frameworkCode":{
                                       "type":"keyword"
                                    }
                                 }
                              }
                           }
                        }
                     }
                  }
               }
            },
            "isFeatured":{
               "type":"integer"
            },
            "tenant":{
               "properties":{
                  "tenantRootId":{
                     "type":"keyword"
                  },
                  "tenantId":{
                     "type":"keyword"
                  }
               }
            },
            "course":{
               "properties":{
                  "id":{
                     "type":"keyword"
                  },
                  "title":{
                     "type":"text",
                     "analyzer":"standard",
                     "fields":{
                        "titleSnowball":{
                           "type":"text",
                           "analyzer":"snowball"
                        },
                        "titleKStem":{
                           "type":"text",
                           "analyzer":"gooru_kstem"
                        },
                        "titleLowercase":{
                           "type":"text",
                           "analyzer":"keyword_lowercase"
                        }
                     },
                     "copy_to":[
                        "all"
                     ]
                  }
               }
            },
            "unit":{
               "properties":{
                  "id":{
                     "type":"keyword"
                  },
                  "title":{
                     "type":"text",
                     "analyzer":"standard",
                     "fields":{
                        "titleSnowball":{
                           "type":"text",
                           "analyzer":"snowball"
                        },
                        "titleKStem":{
                           "type":"text",
                           "analyzer":"gooru_kstem"
                        },
                        "titleLowercase":{
                           "type":"text",
                           "analyzer":"keyword_lowercase"
                        }
                     },
                     "copy_to":[
                        "all"
                     ]
                  }
               }
            },
            "collectionTitles":{
               "type":"text",
               "analyzer":"standard",
               "fields":{
                  "titleSnowball":{
                     "type":"text",
                     "analyzer":"snowball"
                  },
                  "titleKStem":{
                     "type":"text",
                     "analyzer":"gooru_kstem"
                  },
                  "titleLowercase":{
                     "type":"text",
                     "analyzer":"keyword_lowercase"
                  }
               },
               "copy_to":[
                  "all"
               ]
            },
            "collectionIds":{
               "type":"keyword"
            },
            "collectionContents":{
               "properties":{
                  "description":{
                     "type":"text",
                     "analyzer":"gooru_kstem",
                     "copy_to":[
                        "all"
                     ]
                  },
                  "id":{
                     "type":"keyword"
                  },
                  "sequenceId":{
                     "type":"integer"
                  },
                  "contentFormat":{
                     "type":"keyword"
                  },
                  "narration":{
                     "type":"text",
                     "analyzer":"snowball",
                     "copy_to":[
                        "all"
                     ]
                  },
                  "contentSubFormat":{
                     "type":"text",
                     "analyzer":"keyword_lowercase",
                     "copy_to":[
                        "all"
                     ]
                  },
                  "text":{
                     "type":"text",
                     "analyzer":"snowball",
                     "copy_to":[
                        "all"
                     ]
                  },
                  "thumbnail":{
                     "type":"keyword"
                  },
                  "title":{
                     "type":"text",
                     "analyzer":"gooru_kstem",
                     "copy_to":[
                        "all"
                     ]
                  },
                  "url":{
                     "type":"keyword",
                     "copy_to":[
                        "all"
                     ]
                  }
               }
            }
         }
      }
   }
}